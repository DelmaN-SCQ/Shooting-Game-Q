<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Futuristic Shooter — Pro</title>
<style>
  :root{
    --bg1:#071025; --bg2:#000814; --accent:#1de9b6; --accent2:#66fcf1;
    --muted:#9aa5b1;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg1),var(--bg2));font-family:Inter,Arial,Helvetica,sans-serif;color:#e6f7ff;}
  canvas{display:block;width:100vw;height:100vh;}
  .overlay{position:fixed;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;pointer-events:none;}
  .card{pointer-events:auto;background:linear-gradient(180deg,rgba(7,16,37,0.85),rgba(0,8,20,0.9));border-radius:14px;padding:22px;border:1px solid rgba(110,230,190,0.12);box-shadow:0 10px 30px rgba(0,0,0,0.6);min-width:320px;max-width:720px;}
  .title{font-size:36px;text-align:center;margin:0 0 6px 0;color:var(--accent);letter-spacing:1px;text-shadow:0 6px 18px rgba(34,202,163,0.08);}
  .subtitle{color:var(--muted);text-align:center;margin:6px 0 14px 0;}
  .btn{display:inline-block;padding:12px 20px;border-radius:10px;background:linear-gradient(90deg,var(--accent),var(--accent2));border:none;color:#021019;font-weight:700;cursor:pointer;font-size:16px;margin:6px;}
  .row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;}
  #hudCluster{position:fixed;right:18px;top:18px;display:flex;flex-direction:column;gap:8px;align-items:flex-end;pointer-events:auto}
  .hudBox{background:rgba(10,18,30,0.45);padding:8px 12px;border-radius:10px;border:1px solid rgba(160,255,230,0.06);backdrop-filter:blur(6px);min-width:170px}
  .hudTitle{font-size:13px;color:var(--muted);margin:0}
  .hudValue{font-size:18px;color:#eafff7;margin:0;font-weight:600}
</style>
</head>
<body>

<canvas id="gameCanvas"></canvas>

<div id="hudCluster">
  <div class="hudBox"><p class="hudTitle">Punkty</p><p id="hudScore" class="hudValue">0</p></div>
  <div class="hudBox"><p class="hudTitle">HP</p><p id="hudHP" class="hudValue">100</p></div>
  <div class="hudBox"><p class="hudTitle">XP</p><p id="hudXP" class="hudValue">0 / 100</p></div>
</div>

<div id="menu" class="overlay">
  <div class="card">
    <h2 class="title">FUTURISTIC SHOOTER</h2>
    <p class="subtitle">Poruszaj się strzałkami, strzelaj SPACJĄ</p>
    <div class="row"><button id="playBtn" class="btn">Zagraj</button></div>
  </div>
</div>

<script>
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');
function resize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
window.addEventListener('resize',resize);resize();

/* --- Player --- */
const playerImg = new Image();
playerImg.src = (function(){
  const c=document.createElement('canvas');c.width=32;c.height=32;
  const g=c.getContext('2d'); g.imageSmoothingEnabled=false;
  g.clearRect(0,0,32,32);
  g.fillStyle='#00d1a1'; g.fillRect(12,4,8,18);
  g.fillStyle='#003f2f'; g.fillRect(12,4,8,4);
  g.fillStyle='#00b388'; g.fillRect(8,18,4,6); g.fillRect(20,18,4,6);
  g.fillStyle='#ff8a00'; g.fillRect(14,22,4,6);
  return c.toDataURL();
})();
const player={x:canvas.width/2,y:canvas.height-80,width:48,height:64,speed:6,lives:100,maxLives:100,xp:0,xpGoal:100};
const bullets=[];

/* --- Enemies --- */
const enemies=[];
function spawnEnemy(){
  const size=32;
  const x=Math.random()*(canvas.width-size);
  const y=-size;
  const hp=40;
  enemies.push({x,y,w:size,h:size,hp,maxHp:hp});
}

/* --- Input --- */
const keys={};
document.addEventListener('keydown',e=>{keys[e.key]=true; if(e.key===' '){ fire(); }});
document.addEventListener('keyup',e=>{keys[e.key]=false;});

function fire(){
  if(!player) return;
  bullets.push({x:player.x-4,y:player.y-28,w:8,h:16,speed:12});
}

/* --- UI --- */
const hudScore=document.getElementById('hudScore');
const hudHP=document.getElementById('hudHP');
const hudXP=document.getElementById('hudXP');

let score=0;

/* --- Game loop --- */
function update(){
  // player movement
  if(keys['ArrowLeft']) player.x -= player.speed;
  if(keys['ArrowRight']) player.x += player.speed;
  if(keys['ArrowUp']) player.y -= player.speed;
  if(keys['ArrowDown']) player.y += player.speed;
  player.x = Math.max(player.width/2, Math.min(canvas.width-player.width/2, player.x));
  player.y = Math.max(player.height/2, Math.min(canvas.height-player.height/2, player.y));

  // bullets
  for(let i=bullets.length-1;i>=0;i--){
    const b=bullets[i]; b.y -= b.speed;
    if(b.y<0) bullets.splice(i,1);
  }

  // enemies
  for(let i=enemies.length-1;i>=0;i--){
    const e=enemies[i]; e.y+=1.5;
    // bullet collision
    for(let j=bullets.length-1;j>=0;j--){
      const b=bullets[j];
      if(b.x<b.x+e.w && b.x+b.w>e.x && b.y<b.y+e.h && b.y+b.h>e.y){
        bullets.splice(j,1);
        e.hp-=20;
        if(e.hp<=0){ enemies.splice(i,1); score+=100; player.xp+=20; if(player.xp>=player.xpGoal){player.xp-=player.xpGoal;player.xpGoal=Math.floor(player.xpGoal*1.5); } }
        break;
      }
    }
    // player collision
    if(player.x-player.width/2<e.x+e.w && player.x+player.width/2>e.x && player.y-player.height/2<e.y+e.h && player.y+player.height/2>e.y){
      enemies.splice(i,1); player.lives-=20;
      if(player.lives<=0){ alert('GAME OVER!'); location.reload(); }
    }
    if(e.y>canvas.height+50) enemies.splice(i,1);
  }

  // spawn enemies periodically
  if(Math.random()<0.02) spawnEnemy();

  // update HUD
  hudScore.innerText=score;
  hudHP.innerText=player.lives+'/'+player.maxLives;
  hudXP.innerText=player.xp+' / '+player.xpGoal;
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // player
  ctx.drawImage(playerImg,player.x-player.width/2,player.y-player.height/2,player.width,player.height);

  // bullets
  ctx.fillStyle='#ffec5c';
  bullets.forEach(b=>ctx.fillRect(b.x,b.y,b.w,b.h));

  // enemies
  ctx.fillStyle='#ff6b6b';
  enemies.forEach(e=>ctx.fillRect(e.x,e.y,e.w,e.h));

  // enemy HP bars
  enemies.forEach(e=>{
    ctx.fillStyle='#222'; ctx.fillRect(e.x,e.y-6,e.w,4);
    ctx.fillStyle='#6eff9f'; ctx.fillRect(e.x,e.y-6,e.w*(e.hp/e.maxHp),4);
  });
}

function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}

document.getElementById('playBtn').onclick=()=>{
  document.getElementById('menu').style.display='none';
  loop();
};
</script>

</body>
</html>
